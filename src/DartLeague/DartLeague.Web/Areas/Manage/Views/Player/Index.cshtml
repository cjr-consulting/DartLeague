@{
    ViewData["Title"] = "Players List";
}

@using IdentityServer4.Extensions
@model DartLeague.Web.Areas.Manage.Models.PlayersListViewModel

<div class="single-form">
    <div class="panel panel-default">
        <div class="panel-heading"><a class="btn btn-success btn-sm" asp-area="Manage" asp-controller="Player" asp-action="Create" title="Add Player"><i class="fa fa-plus-square"></i></a> <strong>Players</strong></div>
        <table class="table table-condensed table-striped table-hover">
            <thead>
                <tr>
                    <th class="hidden-sm hidden-xs" width="5px"></th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Cell Phone</th>
                    <th class="hidden-xs">Shirt</th>
                    <th class="hidden-sm hidden-xs" width="5px"></th>
                </tr>
            </thead>
            <tbody>
                @if (!Model.Players.Any())
            {
                    <tr class="warning"><td colspan="6">Currently No Players</td></tr>
                }
                else
                {
                    foreach (var player in Model.Players)
                    {
                        <tr>
                            <td class="hidden-sm hidden-xs"><a class="btn btn-link" asp-area="Manage" asp-controller="Player" asp-action="Edit" asp-route-id="@player.Id"><i class="fa fa-pencil-square-o fa-lg"></i></a></td>
                            <td><a class="btn btn-link" asp-area="Manage" asp-controller="Player" asp-action="Edit" asp-route-id="@player.Id">@($"{player.FirstName} {player.LastName}")</a></td>
                            <td>@(player.Email.IsNullOrEmpty() ? "none" : player.Email)</td>
                            <td>@player.CellPhone</td>
                            <td class="hidden-xs">@player.ShirtSize</td>
                            <td class="hidden-sm hidden-xs"><a class="btn btn-link confirmation" asp-area="Manage" asp-controller="Player" asp-action="Delete" asp-route-id="@player.Id" title="Delete"><i class="fa fa-trash-o fa-lg"></i></a></td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
@section scripts{
    <script type="text/javascript">
        var elems = document.getElementsByClassName('confirmation');
        var confirmIt = function(e) {
            if (!confirm('Are you sure?')) e.preventDefault();
        };
        for (var i = 0, l = elems.length; i < l; i++) {
            elems[i].addEventListener('click', confirmIt, false);
        }
    </script>
}

